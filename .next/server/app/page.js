(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3859:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o});var a=s(482),i=s(9108),l=s(2563),r=s.n(l),n=s(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1136)),"/Users/sauravlamichhane/Downloads/Musky-master/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/Users/sauravlamichhane/Downloads/Musky-master/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/sauravlamichhane/Downloads/Musky-master/src/app/page.tsx"],x="/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5307:(e,t,s)=>{Promise.resolve().then(s.bind(s,6909))},6909:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5344),i=s(3729),l=s(8110),r=s(3644),n=s(4573),c=s(4212),o=s(9410),d=s(6506),x=s(4669);let u=({onLoadingComplete:e})=>{let[t,s]=(0,i.useState)({width:0,height:0});return(0,i.useEffect)(()=>{s({width:window.innerWidth,height:window.innerHeight});let t=setTimeout(()=>{e()},3e3);return()=>clearTimeout(t)},[e]),(0,a.jsxs)(l.E.div,{className:"fixed inset-0 z-50 bg-background flex flex-col items-center justify-center overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx(l.E.div,{className:"absolute inset-0",animate:{background:["radial-gradient(circle at 50% 50%, rgba(33, 150, 243, 0.3) 0%, transparent 70%)","radial-gradient(circle at 50% 50%, rgba(156, 39, 176, 0.3) 0%, transparent 70%)","radial-gradient(circle at 50% 50%, rgba(33, 150, 243, 0.3) 0%, transparent 70%)"]},transition:{duration:4,repeat:1/0}})}),a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((e,s)=>a.jsx(l.E.div,{className:"absolute w-2 h-2 bg-white/20 rounded-full",initial:{x:Math.random()*(t.width||300),y:Math.random()*(t.height||500)},animate:{y:[null,"-100%"],opacity:[0,1,0]},transition:{duration:2+2*Math.random(),repeat:1/0,delay:2*Math.random()}},s))}),a.jsx(l.E.div,{className:"relative w-40 h-40 mb-8",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:(0,a.jsxs)("div",{className:"w-full h-full rounded-full bg-primary relative overflow-hidden",children:[a.jsx(l.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-4xl",children:"MUSKY"})]})}),(0,a.jsxs)(l.E.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[a.jsx("h1",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"MUSKY MINI APP"}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:[0,1,2].map(e=>a.jsx(l.E.div,{className:"w-2 h-2 bg-accent rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.2*e}},e))})]}),a.jsx(l.E.div,{className:"absolute bottom-10 w-48 h-1 bg-white/10 rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsx(l.E.div,{className:"h-full bg-accent",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5,ease:"easeInOut"}})})]})};var m=s(8704);function h(){let{user:e,mutate:t}=(0,c.a)(),[s,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)([]),[b,j]=(0,i.useState)(0),[g,v]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1),[S,E]=(0,i.useState)(0),[M,_]=(0,i.useState)(null),[q,C]=(0,i.useState)(!0),[P,T]=(0,i.useState)([]),[A,O]=(0,i.useState)([]),[U,I]=(0,i.useState)(!1),[D,H]=(0,i.useState)(e?.energy||2e3),[K]=(0,i.useState)(2e3),[Y,$]=(0,i.useState)(null);(0,i.useEffect)(()=>{e?.energy!==void 0&&H(e.energy)},[e?.energy]),(0,i.useEffect)(()=>{let e=setInterval(()=>{t()},6e4);return()=>clearInterval(e)},[t]),(0,i.useEffect)(()=>{e?.last_tap_time&&(_(new Date(e.last_tap_time)),L());let t=setInterval(L,1e3);return()=>clearInterval(t)},[e?.last_tap_time]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{C(!1)},3e3);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>{O(Array.from({length:50},(e,t)=>({id:t,delay:10*Math.random(),left:`${100*Math.random()}%`})))},[]);let L=()=>{if(!M||!e?.energy)return;let s=new Date,a=s.getTime()-M.getTime(),i=K/4,l=Math.min(K,e.energy+Math.floor(a/36e5*i));if(l!==D&&(H(l),Math.abs(l-D)>=10&&m.O.from("users").update({energy:l,last_tap_time:s.toISOString()}).eq("user_id",e?.user_id).then(()=>t())),l<K){let e=144e5-a%144e5;$(`${Math.floor(e/36e5)}h ${Math.floor(e%36e5/6e4)}m ${Math.floor(e%6e4/1e3)}s`)}else $(null)},z=async()=>{if(!U&&!(D<=0)){I(!0),h(!0);try{let s=new Date,a=Math.max(0,D-1),{data:i,error:l}=await m.O.from("users").update({balance:(e?.balance||0)+1,last_tap_time:s.toISOString(),energy:a}).eq("user_id",e?.user_id).select().single();if(l)throw l;H(a),t();let r=document.querySelector(".w-72.h-72");if(r){let e=r.getBoundingClientRect(),t=Math.min(e.right-20,window.innerWidth-50),s=e.top+e.height/2,a=document.createElement("div");a.className="floating-number",a.style.left=`${t}px`,a.style.top=`${s}px`,a.style.fontSize="32px",a.textContent="+1",document.body.appendChild(a),setTimeout(()=>a.remove(),1e3)}}catch(e){console.error("Error:",e),x.Am.error("Failed to process tap")}finally{I(!1),h(!1)}}};return q?a.jsx(u,{onLoadingComplete:()=>C(!1)}):(0,a.jsxs)(n.Z,{children:[a.jsx("div",{className:"particle-container",children:A.map(e=>a.jsx("div",{className:"background-particle",style:{left:e.left,animationDelay:`${e.delay}s`}},e.id))}),(0,a.jsxs)("div",{className:"min-h-[calc(100vh-4rem)] flex flex-col bg-gradient-to-b from-primary/20 to-background/20",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary/90 backdrop-blur-lg border-b border-white/10",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center space-x-3 text-white/80 hover:text-white",children:[(0,a.jsxs)("div",{className:"w-10 h-10 relative",children:[a.jsx(o.default,{src:"/assets/MUSKY.png",alt:"MUSKY",width:40,height:40,className:"w-full h-full object-contain"}),a.jsx(l.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:["-200%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsxs)("div",{className:"text-sm font-bold",children:[e?.balance??0," MUSKY"]}),(0,a.jsxs)("div",{className:"text-xs text-white/60 flex items-center",children:[e?.solana_balance??0,a.jsx(o.default,{src:"/assets/SOLANA.png",alt:"SOL",width:14,height:14,className:"ml-1"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(l.E.button,{onClick:()=>k(!0),className:"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center text-xl relative overflow-hidden",children:a.jsx("video",{src:"/components/assets/lucky_spins.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),a.jsx(l.E.button,{onClick:()=>w(!0),className:"w-10 h-10 rounded-full bg-accent flex items-center justify-center text-xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(o.default,{src:"/components/assets/stars.png",alt:"Stars",width:24,height:24,className:"object-contain"})})]})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-4 pt-20",children:[a.jsx(l.E.div,{className:"relative mb-12 touch-none select-none",whileTap:{scale:.95},onClick:z,style:{touchAction:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:a.jsx(l.E.div,{className:"w-72 h-72 rounded-full bg-accent/20 backdrop-blur-lg flex items-center justify-center cursor-pointer relative overflow-hidden shimmer-effect touch-none",animate:s?{scale:[1,.95,1],rotate:[0,-5,5,0]}:{},transition:{duration:.15},style:{touchAction:"manipulation",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:a.jsx(o.default,{src:"/assets/TILTED_MUSKY.png",alt:"MUSKY Coin",width:240,height:240,className:"object-contain transform hover:scale-105 transition-transform duration-300 pointer-events-none",draggable:"false"})})}),(0,a.jsxs)("div",{className:"space-y-3 text-center mb-8 bg-primary/20 backdrop-blur-lg rounded-xl p-6 w-full max-w-xs border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white/80",children:"Energy"}),(0,a.jsxs)("span",{className:"text-sm font-bold",children:[D,"/",K]})]}),a.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full overflow-hidden p-0.5",children:a.jsx(l.E.div,{className:"h-full bg-accent rounded-full relative overflow-hidden",initial:{width:"100%"},animate:{width:`${D/K*100}%`},transition:{duration:.5},children:a.jsx(l.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}),Y&&(0,a.jsxs)("p",{className:"text-sm text-white/60",children:["Next reset in: ",Y]})]}),(0,a.jsxs)("div",{className:"fixed bottom-20 left-0 right-0 flex justify-between px-8",children:[a.jsx(l.E.button,{onClick:()=>k(!0),className:"w-16 h-16 rounded-full bg-accent shadow-lg flex items-center justify-center text-2xl relative overflow-hidden",whileHover:{scale:1.1},transition:{duration:.3},children:a.jsx("video",{src:"/components/assets/lucky_spins.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),a.jsx(l.E.button,{onClick:()=>w(!0),className:"w-16 h-16 rounded-full bg-accent shadow-lg flex items-center justify-center text-2xl",whileHover:{scale:1.1},transition:{duration:.3},children:a.jsx(o.default,{src:"/components/assets/stars.png",alt:"Stars",width:32,height:32,className:"object-contain"})})]})]})]}),a.jsx(r.M,{children:g&&a.jsx(l.E.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsxs)(l.E.div,{className:"bg-primary/90 backdrop-blur-xl rounded-2xl w-full max-w-md m-4 p-6",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profile"}),a.jsx("button",{onClick:()=>v(!1),children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-black/20 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"MUSKY Balance"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e?.balance??0," MUSKY"]})]}),(0,a.jsxs)("div",{className:"bg-black/20 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Solana Balance"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e?.solana_balance??0," SOL"]})]}),(0,a.jsxs)("div",{className:"bg-black/20 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Mining Rate"}),a.jsx("div",{className:"text-2xl font-bold",children:"1000 MUSKY/24hr"})]}),(0,a.jsxs)("div",{className:"bg-black/20 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Level"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e?.level??"Basic"," Musky"]})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"w-full mt-6 py-3 bg-accent rounded-xl font-bold",children:"Close"})]})})}),a.jsx(r.M,{children:y&&a.jsx(l.E.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsxs)(l.E.div,{className:"bg-primary/90 backdrop-blur-xl rounded-2xl w-full max-w-md m-4 p-6",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Upgrade Status"}),a.jsx("button",{onClick:()=>w(!1),children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(l.E.div,{className:"bg-black/20 rounded-lg p-6 premium-gradient premium-border shimmer-effect cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{(await fetch("/api/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e?.user_id,level:"hero"})})).ok?(await t(),x.Am.success("Successfully upgraded to Hero Musky!")):x.Am.error("Failed to upgrade")}catch(e){x.Am.error("Failed to upgrade")}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Hero Musky"}),a.jsx(l.E.div,{className:"text-2xl",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:"⭐"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"2x Mining Rate"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"50% Energy Boost"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"Exclusive Hero Badge"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"500"}),a.jsx("span",{className:"text-xl",children:"⭐"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"1"}),a.jsx(o.default,{src:"/assets/ton-logo.png",alt:"TON",width:16,height:16})]})]})]}),(0,a.jsxs)(l.E.div,{className:"bg-black/20 rounded-lg p-6 premium-gradient premium-border shimmer-effect cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{(await fetch("/api/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e?.user_id,level:"superhero"})})).ok?(await t(),x.Am.success("Successfully upgraded to Superhero Musky!")):x.Am.error("Failed to upgrade")}catch(e){x.Am.error("Failed to upgrade")}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Superhero Musky"}),a.jsx(l.E.div,{className:"text-2xl",animate:{rotate:360,scale:[1,1.2,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1,repeat:1/0,ease:"easeInOut"}},children:"\uD83C\uDF1F"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"4x Mining Rate"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"100% Energy Boost"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"Exclusive Superhero Effects"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-accent rounded-full"}),a.jsx("p",{className:"text-white/80",children:"Priority Support"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"1000"}),a.jsx("span",{className:"text-xl",children:"⭐"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"2"}),a.jsx(o.default,{src:"/assets/ton-logo.png",alt:"TON",width:16,height:16})]})]})]})]})]})})}),a.jsx(r.M,{children:N&&a.jsx(l.E.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsxs)(l.E.div,{className:"bg-primary/90 backdrop-blur-xl rounded-2xl w-full max-w-md m-4 p-6",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Lucky Spin"}),a.jsx("button",{onClick:()=>k(!1),children:"✕"})]}),a.jsx(d.default,{href:"/lucky-spin",className:"block",children:a.jsx(l.E.button,{className:"w-full py-3 bg-accent rounded-xl font-bold",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(!1),children:"Go to Lucky Spin"})})]})})})]})}},1136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>r});let a=(0,s(6843).createProxy)(String.raw`/Users/sauravlamichhane/Downloads/Musky-master/src/app/page.tsx`),{__esModule:i,$$typeof:l}=a,r=a.default}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,575,139,876],()=>s(3859));module.exports=a})();